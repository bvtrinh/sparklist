<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <%- include ('../partials/header.ejs') %>
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" type="text/css" href="/css/button.css">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/themes/base/jquery-ui.css">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-tokenfield/0.12.0/css/tokenfield-typeahead.css">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-tokenfield/0.12.0/css/bootstrap-tokenfield.css">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.css">
  <title>Manage Wishlist</title>
</head>

<body>
    <div class="container">
        <div class="form-group">
            <h1>Manage Wishlist</h1>
            <form action="/wishlist/update/?wishlistID=<%= wishlist._id %>" method="POST">

                <div class="form-group">
                    <label for="wishlistName">Wishlist Name</label>
                    <input type="text" class="form-control" name="wishlistName" value=<%= wishlist.name %> >
                </div>

                <div class="form-group">
                    <label for="sharedUsers">Shared Users</label>
                    <input type="text" 
                        class="form-control" 
                        id="tokenfield-typeahead" 
                        name="sharedUsers" 
                        placeholder="Enter emails to send invitations" 
                        value="<% wishlist.sharedUsers.forEach(sharedUser => { %> <%= sharedUser %>, <% }); %>"
                    />
                </div>

                <div class="form-group">
                    <div class="form-check form-check-inline">
                        <label class="form-check-label">
                            <input type="radio" class="form-check-input" name="visibility" value="public">Public
                        </label>
                    </div>
                    <div class="form-check form-check-inline">
                        <label class="form-check-label">
                            <input type="radio" class="form-check-input" name="visibility" value="private">Private
                        </label>
                    </div>
                </div>

                <button type="submit" class="btn btn-black" style="color: #fff; clear:both">Update</button>
                
            </form>

            <form action="/wishlist/delete/?wishlistID=<%= wishlist._id %>" method="POST">
                <button type="submit" class="btn btn-danger">Delete</button>
            </form>
        </div>
    </div>

    <%- include ('../partials/endBody.ejs') %>
    <%- include ('../partials/tokenfield.ejs') %>

</body>


</html>